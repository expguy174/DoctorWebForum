@model List<DoctorWebForum.Models.homeViewModel>

@{
    ViewBag.Title = "Home";
}

<div class="page-hero bg-image overlay-dark" style="background-image: url(/Content/assets/img/bg_image_1.jpg);">
    <div class="hero-section">
        <div class="container text-center wow zoomIn">
            <span class="subhead">Let's make your life happier</span>
            <h1 class="display-4">Healthy Living</h1>
        </div>
    </div>
</div>


<div class="bg-light">
    <div class="page-section py-3 mt-md-n5 custom-index">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-4 py-3 py-md-0">
                    <div class="card-service wow fadeInUp">
                        <div class="circle-shape bg-secondary text-white">
                            <span class="mai-chatbubbles-outline"></span>
                        </div>
                        <p><span>Chat</span> with a doctors</p>
                    </div>
                </div>
                <div class="col-md-4 py-3 py-md-0">
                    <div class="card-service wow fadeInUp">
                        <div class="circle-shape bg-primary text-white">
                            <span class="mai-shield-checkmark"></span>
                        </div>
                        <p><span>One</span>-Health Protection</p>
                    </div>
                </div>
                <div class="col-md-4 py-3 py-md-0">
                    <div class="card-service wow fadeInUp">
                        <div class="circle-shape bg-accent text-white">
                            <span class="mai-basket"></span>
                        </div>
                        <p><span>One</span>-Health Pharmacy</p>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- .page-section -->

    <div class="page-section pb-0">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 py-3 wow fadeInUp">
                    <h1>Welcome to Dochouse <br> Center</h1>
                    <p class="text-grey mb-4">At here, you can ask or find about health-related issues.</p>
                    <a href="@Url.Action("About","Home")" class="btn btn-primary nav-item">Learn More</a>
                </div>
                <div class="col-lg-6 wow fadeInRight" data-wow-delay="400ms">
                    <div class="img-place custom-img-1">
                        <img src="~/Content/assets/img/bg-doctor.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- .bg-light -->
</div> <!-- .bg-light -->

<div class="page-section bg-light ">
    <div class="container wow fadeInUp" data-wow-delay="400ms">
        <div class="d-flex justify-content-between align-items-center">
            <h3 class="text-left ">Latest Posts</h3>
            <a href="@Url.Action("Index","Post")" class="btn btn-primary nav-item">Go to post</a>
        </div>
        @foreach (var post in Model)
        {
            var timeSpan = DateTime.Now - post.created_at;
            var totalMinutes = (int)timeSpan.TotalMinutes;
            <div class="card row-hover pos-relative m-0 p-3 rounded-0" style="border-color: rgb(214, 219, 217); border-collapse: collapse;">
                <div class="row align-items-center justify-content-around">
                    <div class="col-3">
                        <h5>
                            <a href="#" class="text-primary">@post.title</a>
                        </h5>
                        <span>@post.description</span>
                    </div>
                    <div class="col-5">@post.content</div>
                    <div class="col-4">
                        <div class="d-flex flex-column justify-content-center align-items-end">
                            <p><a href="#">@post.name</a></p>
                            @if (totalMinutes < 60)
                            {
                                <span style="font-size: 11px">Posted @totalMinutes minutes ago</span>
                            }
                            else if (totalMinutes < 1440)
                            {
                                var totalHours = Math.Round(timeSpan.TotalHours);
                                <span style="font-size: 11px">Posted @totalHours hours ago</span>
                            }
                            else
                            {
                                var totalDays = Math.Round(timeSpan.TotalDays);
                                if (totalDays < 365)
                                {
                                    <span style="font-size: 11px">Posted @totalDays days ago</span>
                                }
                                else
                                {
                                    var totalYears = Math.Floor(totalDays / 365.0);
                                    <span style="font-size: 11px">Posted @totalYears.ToString() years ago</span>
                                }
                            }
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div> <!-- .page-section -->
